

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>qiskit._quantumprogram &#8212; QISKit SDK 0.4.14 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.4.14',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<!--[if lt IE 9]>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
<div id="head" class="head">
    <a href="/">QISKit</a>
    <div class="langbox">
        <a href="/documentation/_modules/qiskit/_quantumprogram.html">english</a> /
        <a href="/documentation/ja/_modules/qiskit/_quantumprogram.html">japanese</a>
    </div>
</div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
<li id="toc-toggle">
<a class="btn btn-primary" role="button" data-toggle="collapse"
   href=".sphinxsidebar" aria-expanded="false" aria-controls="collapseExample">
  TOC</a> |
</li>

        <li class="nav-item nav-item-0"><a href="../../index.html">QISKit SDK 0.4.14 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/qiskit-logo-white-no-margin.gif" alt="Logo"/>
            </a></p>
<p class="logo-description">Quantum Information Software Kit</p>

  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../qiskit.html">QISKit overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_introduction.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_autodoc/qiskit.html">SDK reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG.html">Release history</a></li>
</ul>

<p class="spacer"/>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for qiskit._quantumprogram</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># Copyright 2017 IBM RESEARCH. All Rights Reserved.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1"># =============================================================================</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Qasm Program Class</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">threading</span> <span class="k">import</span> <span class="n">Event</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="c1"># use the external IBMQuantumExperience Library</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">from</span> <span class="nn">IBMQuantumExperience</span> <span class="k">import</span> <span class="n">IBMQuantumExperience</span>

<span class="c1"># Local Simulator Modules</span>
<span class="kn">import</span> <span class="nn">qiskit.backends</span>

<span class="c1"># Stable Modules</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">QuantumRegister</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">ClassicalRegister</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">QISKitError</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">JobProcessor</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">QuantumJob</span>
<span class="kn">from</span> <span class="nn">._logging</span> <span class="k">import</span> <span class="n">set_qiskit_logger</span><span class="p">,</span> <span class="n">unset_qiskit_logger</span>

<span class="c1"># Beta Modules</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">unroll</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">qasm</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">mapper</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">_openquantumcompiler</span> <span class="k">as</span> <span class="n">openquantumcompiler</span>

<span class="n">FIRST_CAP_RE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;(.)([A-Z][a-z]+)&#39;</span><span class="p">)</span>
<span class="n">ALL_CAP_RE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;([a-z0-9])([A-Z])&#39;</span><span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a snake case string from a camelcase string.&quot;&quot;&quot;</span>
    <span class="n">string_1</span> <span class="o">=</span> <span class="n">FIRST_CAP_RE</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1_\2&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ALL_CAP_RE</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1_\2&#39;</span><span class="p">,</span> <span class="n">string_1</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>


<div class="viewcode-block" id="QuantumProgram"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram">[docs]</a><span class="k">class</span> <span class="nc">QuantumProgram</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Quantum Program Class.</span>

<span class="sd">     Class internal properties.</span>

<span class="sd">     Elements that are not python identifiers or string constants are denoted</span>
<span class="sd">     by &quot;--description (type)--&quot;. For example, a circuit&#39;s name is denoted by</span>
<span class="sd">     &quot;--circuit name (string)--&quot; and might have the value &quot;teleport&quot;.</span>

<span class="sd">     Internal::</span>

<span class="sd">        __quantum_registers (list[dic]): An dictionary of quantum registers</span>
<span class="sd">            used in the quantum program.</span>
<span class="sd">            __quantum_registers =</span>
<span class="sd">                {</span>
<span class="sd">                --register name (string)--: QuantumRegister,</span>
<span class="sd">                }</span>
<span class="sd">        __classical_registers (list[dic]): An ordered list of classical</span>
<span class="sd">            registers used in the quantum program.</span>
<span class="sd">            __classical_registers =</span>
<span class="sd">                {</span>
<span class="sd">                --register name (string)--: ClassicalRegister,</span>
<span class="sd">                }</span>
<span class="sd">        __quantum_program (dic): An dictionary of quantum circuits</span>
<span class="sd">            __quantum_program =</span>
<span class="sd">                {</span>
<span class="sd">                --circuit name (string)--:  --circuit object --,</span>
<span class="sd">                }</span>
<span class="sd">        __init_circuit (obj): A quantum circuit object for the initial quantum</span>
<span class="sd">            circuit</span>
<span class="sd">     &quot;&quot;&quot;</span>
    <span class="c1"># -- FUTURE IMPROVEMENTS --</span>
    <span class="c1"># TODO: for status results make ALL_CAPS (check) or some unified method</span>
    <span class="c1"># TODO: Jay: coupling_map, basis_gates will move into a config object</span>
    <span class="c1"># only exists once you set the api to use the online backends</span>
    <span class="n">__api</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">__api_config</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">specs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># stores all the quantum programs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init_circuit</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># stores the initial quantum circuit of the program</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>
        <span class="k">if</span> <span class="n">specs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init_specs</span><span class="p">(</span><span class="n">specs</span><span class="p">)</span>

<div class="viewcode-block" id="QuantumProgram.enable_logs"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.enable_logs">[docs]</a>    <span class="k">def</span> <span class="nf">enable_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable the console output of the logging messages.</span>

<span class="sd">        Enable the output of logging messages (above level `level`) to the</span>
<span class="sd">        console, by configuring the `qiskit` logger accordingly.</span>

<span class="sd">        Params:</span>
<span class="sd">            level (int): minimum severity of the messages that are displayed.</span>

<span class="sd">        Note:</span>
<span class="sd">            This is a convenience method over the standard Python logging</span>
<span class="sd">            facilities, and modifies the configuration of the &#39;qiskit.*&#39;</span>
<span class="sd">            loggers. If finer control over the logging configuration is needed,</span>
<span class="sd">            it is encouraged to bypass this method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Update the handlers and formatters.</span>
        <span class="n">set_qiskit_logger</span><span class="p">()</span>
        <span class="c1"># Set the logger level.</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;qiskit&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span></div>

<div class="viewcode-block" id="QuantumProgram.disable_logs"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.disable_logs">[docs]</a>    <span class="k">def</span> <span class="nf">disable_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disable the console output of the logging messages.</span>

<span class="sd">        Disable the output of logging messages (above level `level`) to the</span>
<span class="sd">        console, by removing the handlers from the `qiskit` logger.</span>

<span class="sd">        Note:</span>
<span class="sd">            This is a convenience method over the standard Python logging</span>
<span class="sd">            facilities, and modifies the configuration of the &#39;qiskit.*&#39;</span>
<span class="sd">            loggers. If finer control over the logging configuration is needed,</span>
<span class="sd">            it is encouraged to bypass this method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">unset_qiskit_logger</span><span class="p">()</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># methods to initiate an build a quantum program</span>
    <span class="c1">###############################################################</span>

    <span class="k">def</span> <span class="nf">__init_specs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">specs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Populate the Quantum Program Object with initial Specs.</span>

<span class="sd">        Args:</span>
<span class="sd">            specs (dict):</span>
<span class="sd">                    Q_SPECS = {</span>
<span class="sd">                        &quot;circuits&quot;: [{</span>
<span class="sd">                            &quot;name&quot;: &quot;Circuit&quot;,</span>
<span class="sd">                            &quot;quantum_registers&quot;: [{</span>
<span class="sd">                                &quot;name&quot;: &quot;qr&quot;,</span>
<span class="sd">                                &quot;size&quot;: 4</span>
<span class="sd">                            }],</span>
<span class="sd">                            &quot;classical_registers&quot;: [{</span>
<span class="sd">                                &quot;name&quot;: &quot;cr&quot;,</span>
<span class="sd">                                &quot;size&quot;: 4</span>
<span class="sd">                            }]</span>
<span class="sd">                        }],</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">quantum_r</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">classical_r</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="s2">&quot;circuits&quot;</span> <span class="ow">in</span> <span class="n">specs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">circuit</span> <span class="ow">in</span> <span class="n">specs</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">]:</span>
                <span class="n">quantum_r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_quantum_registers</span><span class="p">(</span>
                    <span class="n">circuit</span><span class="p">[</span><span class="s2">&quot;quantum_registers&quot;</span><span class="p">])</span>
                <span class="n">classical_r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_classical_registers</span><span class="p">(</span>
                    <span class="n">circuit</span><span class="p">[</span><span class="s2">&quot;classical_registers&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">create_circuit</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">circuit</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">qregisters</span><span class="o">=</span><span class="n">quantum_r</span><span class="p">,</span>
                                    <span class="n">cregisters</span><span class="o">=</span><span class="n">classical_r</span><span class="p">)</span>
                <span class="c1"># TODO: Jay: I think we should return function handles for the</span>
                <span class="c1"># registers and circuit. So that we dont need to get them after we</span>
                <span class="c1"># create them with get_quantum_register etc</span>

<div class="viewcode-block" id="QuantumProgram.create_quantum_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.create_quantum_register">[docs]</a>    <span class="k">def</span> <span class="nf">create_quantum_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new Quantum Register.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the quantum register. If None, an</span>
<span class="sd">                automatically generated identifier will be assigned.</span>
<span class="sd">            size (int): the size of the quantum register</span>

<span class="sd">        Returns:</span>
<span class="sd">            QuantumRegister: internal reference to a quantum register in</span>
<span class="sd">                __quantum_registers</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register already exists in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">size</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t make this register: Already in&quot;</span>
                                  <span class="s2">&quot; program with different size&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; quantum_register exists: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_id</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">QuantumRegister</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; new quantum_register created: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.destroy_quantum_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.destroy_quantum_register">[docs]</a>    <span class="k">def</span> <span class="nf">destroy_quantum_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy an existing Quantum Register.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable): the name of the quantum register</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t destroy this register: Not present&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; quantum_register destroyed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.create_quantum_registers"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.create_quantum_registers">[docs]</a>    <span class="k">def</span> <span class="nf">create_quantum_registers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">register_array</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new set of Quantum Registers based on a array of them.</span>

<span class="sd">        Args:</span>
<span class="sd">            register_array (list[dict]): An array of quantum registers in</span>
<span class="sd">                dictionary format. For example::</span>

<span class="sd">                    [{&quot;name&quot;: &quot;qr&quot;, &quot;size&quot;: 4},</span>
<span class="sd">                        ...</span>
<span class="sd">                    ]</span>

<span class="sd">                Any other key in the dictionary will be ignored. If &quot;name&quot;</span>
<span class="sd">                is not defined (or None) a random name wil be assigned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(QuantumRegister): Array of quantum registers objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_registers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">register_array</span><span class="p">:</span>
            <span class="n">register</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_quantum_register</span><span class="p">(</span>
                <span class="n">register</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">),</span> <span class="n">register</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">])</span>
            <span class="n">new_registers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">register</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_registers</span></div>

<div class="viewcode-block" id="QuantumProgram.destroy_quantum_registers"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.destroy_quantum_registers">[docs]</a>    <span class="k">def</span> <span class="nf">destroy_quantum_registers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">register_array</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy a set of Quantum Registers based on a array of them.</span>

<span class="sd">        Args:</span>
<span class="sd">            register_array (list[dict]): An array of quantum registers in</span>
<span class="sd">                dictionary format. For example::</span>

<span class="sd">                    [{&quot;name&quot;: &quot;qr&quot;},</span>
<span class="sd">                        ...</span>
<span class="sd">                    ]</span>

<span class="sd">                Any other key in the dictionary will be ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">register_array</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">destroy_quantum_register</span><span class="p">(</span><span class="n">register</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="QuantumProgram.create_classical_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.create_classical_register">[docs]</a>    <span class="k">def</span> <span class="nf">create_classical_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new Classical Register.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the classical register. If None, an</span>
<span class="sd">                automatically generated identifier will be assigned.</span>
<span class="sd">            size (int): the size of the classical register</span>
<span class="sd">        Returns:</span>
<span class="sd">            ClassicalRegister: internal reference to a classical register</span>
<span class="sd">                in __classical_registers</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register already exists in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">size</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]):</span>
                <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t make this register: Already in&quot;</span>
                                  <span class="s2">&quot; program with different size&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; classical register exists: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_id</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">ClassicalRegister</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; new classical register created: </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.create_classical_registers"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.create_classical_registers">[docs]</a>    <span class="k">def</span> <span class="nf">create_classical_registers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">registers_array</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new set of Classical Registers based on a array of them.</span>

<span class="sd">        Args:</span>
<span class="sd">            registers_array (list[dict]): An array of classical registers in</span>
<span class="sd">                dictionary format. For example::</span>

<span class="sd">                    [{&quot;name&quot;: &quot;cr&quot;, &quot;size&quot;: 4},</span>
<span class="sd">                        ...</span>
<span class="sd">                    ]</span>

<span class="sd">                Any other key in the dictionary will be ignored. If &quot;name&quot;</span>
<span class="sd">                is not defined (or None) a random name wil be assigned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(ClassicalRegister): Array of classical registers objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_registers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">registers_array</span><span class="p">:</span>
            <span class="n">new_registers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">create_classical_register</span><span class="p">(</span>
                <span class="n">register</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">register</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">new_registers</span></div>

<div class="viewcode-block" id="QuantumProgram.destroy_classical_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.destroy_classical_register">[docs]</a>    <span class="k">def</span> <span class="nf">destroy_classical_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy an existing Classical Register.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable): the name of the classical register</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t destroy this register: Not present&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;&gt;&gt; classical register destroyed: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.destroy_classical_registers"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.destroy_classical_registers">[docs]</a>    <span class="k">def</span> <span class="nf">destroy_classical_registers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">registers_array</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy a set of Classical Registers based on a array of them.</span>

<span class="sd">        Args:</span>
<span class="sd">            registers_array (list[dict]): An array of classical registers in</span>
<span class="sd">                dictionary format. For example::</span>

<span class="sd">                    [{&quot;name&quot;: &quot;cr&quot;},</span>
<span class="sd">                        ...</span>
<span class="sd">                    ]</span>

<span class="sd">                Any other key in the dictionary will be ignored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">registers_array</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">destroy_classical_register</span><span class="p">(</span><span class="n">register</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span></div>

<div class="viewcode-block" id="QuantumProgram.create_circuit"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.create_circuit">[docs]</a>    <span class="k">def</span> <span class="nf">create_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">qregisters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cregisters</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a empty Quantum Circuit in the Quantum Program.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the circuit. If None, an</span>
<span class="sd">                automatically generated identifier will be assigned.</span>
<span class="sd">            qregisters (list(QuantumRegister)): is an Array of Quantum</span>
<span class="sd">                Registers by object reference</span>
<span class="sd">            cregisters (list(ClassicalRegister)): is an Array of Classical</span>
<span class="sd">                Registers by object reference</span>

<span class="sd">        Returns:</span>
<span class="sd">            QuantumCircuit: A quantum circuit is created and added to the</span>
<span class="sd">                Quantum Program</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_id</span><span class="p">(</span><span class="s1">&#39;qc&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">qregisters</span><span class="p">:</span>
            <span class="n">qregisters</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cregisters</span><span class="p">:</span>
            <span class="n">cregisters</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">quantum_circuit</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__init_circuit</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init_circuit</span> <span class="o">=</span> <span class="n">quantum_circuit</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">qregisters</span><span class="p">:</span>
            <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">register</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">register</span> <span class="ow">in</span> <span class="n">cregisters</span><span class="p">:</span>
            <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">register</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_circuit</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">quantum_circuit</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.destroy_circuit"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.destroy_circuit">[docs]</a>    <span class="k">def</span> <span class="nf">destroy_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy a Quantum Circuit in the Quantum Program. This will not</span>
<span class="sd">        destroy any registers associated with the circuit.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable): the name of the circuit</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t destroy this circuit: Not present&quot;</span><span class="p">)</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">[</span><span class="n">name</span><span class="p">]</span></div>

<div class="viewcode-block" id="QuantumProgram.add_circuit"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.add_circuit">[docs]</a>    <span class="k">def</span> <span class="nf">add_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">quantum_circuit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a new circuit based on an Object representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the circuit to add. If None, an</span>
<span class="sd">                automatically generated identifier will be assigned to the</span>
<span class="sd">                circuit.</span>
<span class="sd">            quantum_circuit (QuantumCircuit): a quantum circuit to add to the</span>
<span class="sd">                program-name</span>
<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if `quantum_circuit` is None, as the attribute is</span>
<span class="sd">                optional only for not breaking backwards compatibility (as</span>
<span class="sd">                it is placed after an optional argument).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">quantum_circuit</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;quantum_circuit is required when invoking &#39;</span>
                              <span class="s1">&#39;add_circuit&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_id</span><span class="p">(</span><span class="s1">&#39;qc&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">for</span> <span class="n">qname</span><span class="p">,</span> <span class="n">qreg</span> <span class="ow">in</span> <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">get_qregs</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_quantum_register</span><span class="p">(</span><span class="n">qname</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">qreg</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">cname</span><span class="p">,</span> <span class="n">creg</span> <span class="ow">in</span> <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">get_cregs</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_classical_register</span><span class="p">(</span><span class="n">cname</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">creg</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">quantum_circuit</span></div>

<div class="viewcode-block" id="QuantumProgram.load_qasm_file"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.load_qasm_file">[docs]</a>    <span class="k">def</span> <span class="nf">load_qasm_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qasm_file</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">basis_gates</span><span class="o">=</span><span class="s1">&#39;u1,u2,u3,cx,id&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Load qasm file into the quantum program.</span>

<span class="sd">        Args:</span>
<span class="sd">            qasm_file (str): a string for the filename including its location.</span>
<span class="sd">            name (str or None): the name of the quantum circuit after</span>
<span class="sd">                loading qasm text into it. If no name is give the name is of</span>
<span class="sd">                the text file.</span>
<span class="sd">            basis_gates (str): basis gates for the quantum circuit.</span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Adds a quantum circuit with the gates given in the qasm file to the</span>
<span class="sd">            quantum program and returns the name to be used to get this circuit</span>
<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the file cannot be read.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">qasm_file</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;qasm file &quot;</span><span class="si">{0}</span><span class="s1">&quot; not found&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qasm_file</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">qasm_file</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">node_circuit</span> <span class="o">=</span> <span class="n">qasm</span><span class="o">.</span><span class="n">Qasm</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">qasm_file</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>  <span class="c1"># Node (AST)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;circuit name: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;******************************&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">node_circuit</span><span class="o">.</span><span class="n">qasm</span><span class="p">())</span>
        <span class="c1"># current method to turn it a DAG quantum circuit.</span>
        <span class="n">unrolled_circuit</span> <span class="o">=</span> <span class="n">unroll</span><span class="o">.</span><span class="n">Unroller</span><span class="p">(</span><span class="n">node_circuit</span><span class="p">,</span>
                                           <span class="n">unroll</span><span class="o">.</span><span class="n">CircuitBackend</span><span class="p">(</span><span class="n">basis_gates</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)))</span>
        <span class="n">circuit_unrolled</span> <span class="o">=</span> <span class="n">unrolled_circuit</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_circuit</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">circuit_unrolled</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span></div>

<div class="viewcode-block" id="QuantumProgram.load_qasm_text"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.load_qasm_text">[docs]</a>    <span class="k">def</span> <span class="nf">load_qasm_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qasm_string</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">basis_gates</span><span class="o">=</span><span class="s1">&#39;u1,u2,u3,cx,id&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Load qasm string in the quantum program.</span>

<span class="sd">        Args:</span>
<span class="sd">            qasm_string (str): a string for the file name.</span>
<span class="sd">            name (str or None): the name of the quantum circuit after loading qasm</span>
<span class="sd">                text into it. If no name is give the name is of the text file.</span>
<span class="sd">            basis_gates (str): basis gates for the quantum circuit.</span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Adds a quantum circuit with the gates given in the qasm string to</span>
<span class="sd">            the quantum program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_circuit</span> <span class="o">=</span> <span class="n">qasm</span><span class="o">.</span><span class="n">Qasm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">qasm_string</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>  <span class="c1"># Node (AST)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="c1"># Get a random name if none is given</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span>
                            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)])</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;circuit name: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;******************************&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">node_circuit</span><span class="o">.</span><span class="n">qasm</span><span class="p">())</span>
        <span class="c1"># current method to turn it a DAG quantum circuit.</span>
        <span class="n">unrolled_circuit</span> <span class="o">=</span> <span class="n">unroll</span><span class="o">.</span><span class="n">Unroller</span><span class="p">(</span><span class="n">node_circuit</span><span class="p">,</span>
                                           <span class="n">unroll</span><span class="o">.</span><span class="n">CircuitBackend</span><span class="p">(</span><span class="n">basis_gates</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)))</span>
        <span class="n">circuit_unrolled</span> <span class="o">=</span> <span class="n">unrolled_circuit</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_circuit</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">circuit_unrolled</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span></div>

<div class="viewcode-block" id="QuantumProgram.save"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">beauty</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Save Quantum Program in a Json file.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name (str): file name and path.</span>
<span class="sd">            beauty (boolean): save the text with indent 4 to make it readable.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The dictionary with the status and result of the operation</span>

<span class="sd">        Raises:</span>
<span class="sd">            LookupError: if the file_name is not correct, or writing to the</span>
<span class="sd">                file resulted in an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;Not filename provided&quot;</span><span class="p">}</span>
            <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">beauty</span><span class="p">:</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">elements_to_save</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span>
        <span class="n">elements_saved</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">circuit</span> <span class="ow">in</span> <span class="n">elements_to_save</span><span class="p">:</span>
            <span class="n">elements_saved</span><span class="p">[</span><span class="n">circuit</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">elements_saved</span><span class="p">[</span><span class="n">circuit</span><span class="p">][</span><span class="s2">&quot;qasm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">elements_to_save</span><span class="p">[</span><span class="n">circuit</span><span class="p">]</span><span class="o">.</span><span class="n">qasm</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">save_file</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">elements_saved</span><span class="p">,</span> <span class="n">save_file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;Done&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="n">elements_to_save</span><span class="p">}</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="s1">&#39;Some Problem happened to save the file&#39;</span><span class="p">}</span>
            <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="QuantumProgram.load"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.load">[docs]</a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Load Quantum Program Json file into the Quantum Program object.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name (str): file name and path.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The dictionary with the status and result of the operation</span>

<span class="sd">        Raises:</span>
<span class="sd">            LookupError: if the file_name is not correct, or reading from the</span>
<span class="sd">                file resulted in an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;Not filename provided&quot;</span><span class="p">}</span>
            <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">])</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">load_file</span><span class="p">:</span>
                <span class="n">elements_loaded</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">load_file</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">circuit</span> <span class="ow">in</span> <span class="n">elements_loaded</span><span class="p">:</span>
                <span class="n">circuit_qasm</span> <span class="o">=</span> <span class="n">elements_loaded</span><span class="p">[</span><span class="n">circuit</span><span class="p">][</span><span class="s2">&quot;qasm&quot;</span><span class="p">]</span>
                <span class="n">elements_loaded</span><span class="p">[</span><span class="n">circuit</span><span class="p">]</span> <span class="o">=</span> <span class="n">qasm</span><span class="o">.</span><span class="n">Qasm</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">circuit_qasm</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span> <span class="o">=</span> <span class="n">elements_loaded</span>

            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s1">&#39;Done&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">}</span>

        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="s1">&#39;Some Problem happened to load the file&#39;</span><span class="p">}</span>
            <span class="k">raise</span> <span class="ne">LookupError</span><span class="p">(</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">])</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># methods to get elements from a QuantumProgram</span>
    <span class="c1">###############################################################</span>

<div class="viewcode-block" id="QuantumProgram.get_quantum_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_quantum_register">[docs]</a>    <span class="k">def</span> <span class="nf">get_quantum_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Quantum Register by name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the quantum register. If None and there is only</span>
<span class="sd">                one quantum register available, returns that one.</span>
<span class="sd">        Returns:</span>
<span class="sd">            QuantumRegister: The quantum register with this name.</span>
<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the quantum register is not on the quantum program.</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_single_item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_quantum_register_names</span><span class="p">(),</span> <span class="s2">&quot;a quantum register&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;No quantum register &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="QuantumProgram.get_classical_register"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_classical_register">[docs]</a>    <span class="k">def</span> <span class="nf">get_classical_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Classical Register by name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the classical register. If None and there is only</span>
<span class="sd">                one classical register available, returns that one.</span>
<span class="sd">        Returns:</span>
<span class="sd">            ClassicalRegister: The classical register with this name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the classical register is not on the quantum program.</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_single_item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_classical_register_names</span><span class="p">(),</span>
                                         <span class="s2">&quot;a classical register&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;No classical register &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="QuantumProgram.get_quantum_register_names"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_quantum_register_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_quantum_register_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all the names of the quantum Registers.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__quantum_registers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="QuantumProgram.get_classical_register_names"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_classical_register_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_classical_register_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all the names of the classical Registers.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__classical_registers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="QuantumProgram.get_circuit"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_circuit">[docs]</a>    <span class="k">def</span> <span class="nf">get_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a Circuit Object by name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): the name of the quantum circuit.</span>
<span class="sd">                If None and there is only one circuit available, returns</span>
<span class="sd">                that one.</span>
<span class="sd">        Returns:</span>
<span class="sd">            QuantumCircuit: The quantum circuit with this name</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if the circuit is not on the quantum program.</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_single_item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_circuit_names</span><span class="p">(),</span> <span class="s2">&quot;a circuit&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;No quantum circuit &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="QuantumProgram.get_circuit_names"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_circuit_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_circuit_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all the names of the quantum circuits.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span></div>

<div class="viewcode-block" id="QuantumProgram.get_qasm"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_qasm">[docs]</a>    <span class="k">def</span> <span class="nf">get_qasm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get qasm format of circuit by name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (hashable or None): name of the circuit. If None and only one circuit is</span>
<span class="sd">                available, that one is selected.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The quantum circuit in qasm format</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_single_item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_circuit_names</span><span class="p">(),</span> <span class="s2">&quot;a circuit&quot;</span><span class="p">)</span>
        <span class="n">quantum_circuit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_circuit</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">quantum_circuit</span><span class="o">.</span><span class="n">qasm</span><span class="p">()</span></div>

<div class="viewcode-block" id="QuantumProgram.get_qasms"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_qasms">[docs]</a>    <span class="k">def</span> <span class="nf">get_qasms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_circuit_name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get qasm format of circuit by list of names.</span>

<span class="sd">        Args:</span>
<span class="sd">            list_circuit_name (list[hashable] or None): names of the circuit.</span>
<span class="sd">                If None, it gets all the circuits in the program.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(QuantumCircuit): List of quantum circuit in qasm format</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the register does not exist in the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qasm_source</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">list_circuit_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">list_circuit_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_circuit_names</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">list_circuit_name</span><span class="p">:</span>
            <span class="n">qasm_source</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_qasm</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">qasm_source</span></div>

<div class="viewcode-block" id="QuantumProgram.get_initial_circuit"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_initial_circuit">[docs]</a>    <span class="k">def</span> <span class="nf">get_initial_circuit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the initialization Circuit.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__init_circuit</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># methods for working with backends</span>
    <span class="c1">###############################################################</span>

<div class="viewcode-block" id="QuantumProgram.set_api"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.set_api">[docs]</a>    <span class="k">def</span> <span class="nf">set_api</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">hub</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">proxies</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Setup the API.</span>

<span class="sd">        Fills the __api, and __api_config variables.</span>
<span class="sd">        Does not catch exceptions from IBMQuantumExperience.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (str): The token used to register on the online backend such</span>
<span class="sd">                as the quantum experience.</span>
<span class="sd">            url (str): The url used for online backend such as the quantum</span>
<span class="sd">                experience.</span>
<span class="sd">            hub (str): The hub used for online backend.</span>
<span class="sd">            group (str): The group used for online backend.</span>
<span class="sd">            project (str): The project used for online backend.</span>
<span class="sd">            proxies (dict): Proxy configuration for the API, as a dict with</span>
<span class="sd">                &#39;urls&#39; and credential keys.</span>
<span class="sd">            verify (bool): If False, ignores SSL certificates errors.</span>
<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API instantiation failed.</span>
<span class="sd">            QISKitError: if no hub, group or project were specified.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            API object instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: remove the tests as well when the deprecation is completed</span>

        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;set_api() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using the API object instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># Only append hub/group/project if they are different than None.</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">([</span><span class="n">hub</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">project</span><span class="p">]):</span>
                <span class="n">config_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                    <span class="s1">&#39;hub&#39;</span><span class="p">:</span> <span class="n">hub</span><span class="p">,</span>
                    <span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="n">group</span><span class="p">,</span>
                    <span class="s1">&#39;project&#39;</span><span class="p">:</span> <span class="n">project</span>
                <span class="p">})</span>
            <span class="k">if</span> <span class="n">proxies</span><span class="p">:</span>
                <span class="n">config_dict</span><span class="p">[</span><span class="s1">&#39;proxies&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">proxies</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__api</span> <span class="o">=</span> <span class="n">IBMQuantumExperience</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">config_dict</span><span class="p">,</span> <span class="n">verify</span><span class="p">)</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="n">root_exception</span> <span class="o">=</span> <span class="n">ex</span>
            <span class="k">if</span> <span class="s1">&#39;License required&#39;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">):</span>
                <span class="c1"># For the 401 License required exception from the API, be</span>
                <span class="c1"># less verbose with the exceptions.</span>
                <span class="n">root_exception</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t connect to IBMQuantumExperience server: </span><span class="si">{0}</span><span class="s2">&quot;</span>
                                  <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">root_exception</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__api_config</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__api_config</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>

<div class="viewcode-block" id="QuantumProgram.set_api_hubs_config"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.set_api_hubs_config">[docs]</a>    <span class="k">def</span> <span class="nf">set_api_hubs_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hub</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">project</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Update the API hubs configuration, replacing the previous one.</span>

<span class="sd">            hub (str): The hub used for online backend.</span>
<span class="sd">            group (str): The group used for online backend.</span>
<span class="sd">            project (str): The project used for online backend.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            API object instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;set_api_hubs_config() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using the API object instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
        <span class="n">config_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;hub&#39;</span><span class="p">:</span> <span class="n">hub</span><span class="p">,</span>
            <span class="s1">&#39;group&#39;</span><span class="p">:</span> <span class="n">group</span><span class="p">,</span>
            <span class="s1">&#39;project&#39;</span><span class="p">:</span> <span class="n">project</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">config_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__api_config</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span></div>

<div class="viewcode-block" id="QuantumProgram.get_api_config"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_api_config">[docs]</a>    <span class="k">def</span> <span class="nf">get_api_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the program specs.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            API object instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_api_config() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using the API object instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api_config</span></div>

<div class="viewcode-block" id="QuantumProgram.get_api"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_api">[docs]</a>    <span class="k">def</span> <span class="nf">get_api</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a function handle to the API.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            API object instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_api() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using the API object instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span></div>

<div class="viewcode-block" id="QuantumProgram.available_backends"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.available_backends">[docs]</a>    <span class="k">def</span> <span class="nf">available_backends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;All the backends that are seen by QISKIT.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;available_backends() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.local_backends() and &quot;</span>
            <span class="s2">&quot;qiskit.backends.remote_backends() instead is recommended.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">local</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">local_backends</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="n">remote</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">remote_backends</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">local</span> <span class="o">+</span> <span class="n">remote</span></div>

<div class="viewcode-block" id="QuantumProgram.online_backends"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.online_backends">[docs]</a>    <span class="k">def</span> <span class="nf">online_backends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the online backends.</span>

<span class="sd">        Queries network API if it exists and gets the backends that are online.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(str): List of online backends names if the online api has been set or an empty</span>
<span class="sd">                list if it has not been set.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;online_backends() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.remote_backends() object instead is recommended.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">remote_backends</span><span class="p">()</span></div>

<div class="viewcode-block" id="QuantumProgram.online_simulators"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.online_simulators">[docs]</a>    <span class="k">def</span> <span class="nf">online_simulators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets online simulators via QX API calls.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(str): List of online simulator names.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;online_simulators() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.remote_backends() instead is recommended.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">online_simulators_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="n">online_backends</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">remote_backends</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">backend</span> <span class="ow">in</span> <span class="n">online_backends</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;simulator&#39;</span><span class="p">]:</span>
                <span class="n">online_simulators_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">online_simulators_list</span></div>

<div class="viewcode-block" id="QuantumProgram.online_devices"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.online_devices">[docs]</a>    <span class="k">def</span> <span class="nf">online_devices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets online devices via QX API calls.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(str): List of online devices names.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;online_devices() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.remote_backends() instead is recommended.&quot;</span><span class="p">,</span>
            <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">online_device_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="n">online_backends</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">remote_backends</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">backend</span> <span class="ow">in</span> <span class="n">online_backends</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;simulator&#39;</span><span class="p">]:</span>
                <span class="n">online_device_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">online_device_list</span></div>

<div class="viewcode-block" id="QuantumProgram.get_backend_status"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_backend_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_backend_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the online backend status.</span>

<span class="sd">        It uses QX API call or by local backend is the name of the</span>
<span class="sd">        local or online simulator or experiment.</span>

<span class="sd">        Args:</span>
<span class="sd">            backend (str): The backend to check</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: {&#39;available&#39;: True}</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>
<span class="sd">            ValueError: if the backend is not available.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_backend_status() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.get_backend_instance(&#39;name&#39;).status &quot;</span>
            <span class="s2">&quot;instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="n">my_backend</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">get_backend_instance</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">my_backend</span><span class="o">.</span><span class="n">status</span></div>

<div class="viewcode-block" id="QuantumProgram.get_backend_configuration"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_backend_configuration">[docs]</a>    <span class="k">def</span> <span class="nf">get_backend_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the configuration of the backend.</span>

<span class="sd">        The return is via QX API call.</span>

<span class="sd">        Args:</span>
<span class="sd">            backend (str):  Name of the backend.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The configuration of the named backend.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>
<span class="sd">            LookupError: if a configuration for the named backend can&#39;t be</span>
<span class="sd">                found.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_backend_configuration() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.get_backend_instance(&#39;name&#39;).configuration &quot;</span>
            <span class="s2">&quot;instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span></div>

<div class="viewcode-block" id="QuantumProgram.get_backend_calibration"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_backend_calibration">[docs]</a>    <span class="k">def</span> <span class="nf">get_backend_calibration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the online backend calibrations.</span>

<span class="sd">        The return is via QX API call.</span>

<span class="sd">        Args:</span>
<span class="sd">            backend (str):  Name of the backend.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The calibration of the named backend.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>
<span class="sd">            LookupError: If a configuration for the named backend can&#39;t be</span>
<span class="sd">                found.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_backend_calibration() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.get_backend_instance(&#39;name&#39;).calibration &quot;</span>
            <span class="s2">&quot;instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">my_backend</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">get_backend_instance</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">my_backend</span><span class="o">.</span><span class="n">calibration</span></div>

<div class="viewcode-block" id="QuantumProgram.get_backend_parameters"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_backend_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">get_backend_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the online backend parameters.</span>

<span class="sd">        The return is via QX API call.</span>

<span class="sd">        Args:</span>
<span class="sd">            backend (str):  Name of the backend.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The configuration of the named backend.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ConnectionError: if the API call failed.</span>
<span class="sd">            LookupError: If a configuration for the named backend can&#39;t be</span>
<span class="sd">                found.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            This method will be deprecated in upcoming versions. Using the</span>
<span class="sd">            qiskit.backends family of functions instead is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;get_backend_parameters() will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
            <span class="s2">&quot;Using qiskit.backends.get_backend_instance(&#39;name&#39;).parameters&quot;</span>
            <span class="s2">&quot;instead is recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">my_backend</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">get_backend_instance</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">:</span>
            <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">discover_remote_backends</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__api</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">my_backend</span><span class="o">.</span><span class="n">parameters</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># methods to compile quantum programs into qobj</span>
    <span class="c1">###############################################################</span>

<div class="viewcode-block" id="QuantumProgram.compile"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.compile">[docs]</a>    <span class="k">def</span> <span class="nf">compile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_of_circuits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;local_qasm_simulator&quot;</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">basis_gates</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">coupling_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">initial_layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">max_credits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">qobj_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hpc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Compile the circuits into the execution list.</span>

<span class="sd">        This builds the internal &quot;to execute&quot; list which is list of quantum</span>
<span class="sd">        circuits to run on different backends.</span>

<span class="sd">        Args:</span>
<span class="sd">            name_of_circuits (list[hashable] or hashable or None): circuit</span>
<span class="sd">                names to be compiled. If None, all the circuits will be compiled.</span>
<span class="sd">            backend (str): a string representing the backend to compile to.</span>
<span class="sd">            config (dict): a dictionary of configurations parameters for the</span>
<span class="sd">                compiler.</span>
<span class="sd">            basis_gates (str): a comma separated string and are the base gates,</span>
<span class="sd">                which by default are provided by the backend.</span>
<span class="sd">            coupling_map (list): A graph of coupling::</span>

<span class="sd">                [</span>
<span class="sd">                    [control0(int), target0(int)],</span>
<span class="sd">                    [control1(int), target1(int)],</span>
<span class="sd">                ]</span>

<span class="sd">                eg. [[0, 2], [1, 2], [3, 2]]</span>

<span class="sd">            initial_layout (dict): A mapping of qubit to qubit::</span>

<span class="sd">                {</span>
<span class="sd">                (&quot;q&quot;, start(int)): (&quot;q&quot;, final(int)),</span>
<span class="sd">                ...</span>
<span class="sd">                }</span>
<span class="sd">                eg.</span>
<span class="sd">                {</span>
<span class="sd">                (&quot;q&quot;, 0): (&quot;q&quot;, 0),</span>
<span class="sd">                (&quot;q&quot;, 1): (&quot;q&quot;, 1),</span>
<span class="sd">                (&quot;q&quot;, 2): (&quot;q&quot;, 2),</span>
<span class="sd">                (&quot;q&quot;, 3): (&quot;q&quot;, 3)</span>
<span class="sd">                }</span>

<span class="sd">            shots (int): the number of shots</span>
<span class="sd">            max_credits (int): the max credits to use 3, or 5</span>
<span class="sd">            seed (int): the initial seed the simulators use</span>
<span class="sd">            qobj_id (str): identifier of the qobj.</span>
<span class="sd">            hpc (dict): This will setup some parameter for</span>
<span class="sd">                ibmqx_hpc_qasm_simulator, using a JSON-like format like::</span>

<span class="sd">                    {</span>
<span class="sd">                        &#39;multi_shot_optimization&#39;: Boolean,</span>
<span class="sd">                        &#39;omp_num_threads&#39;: Numeric</span>
<span class="sd">                    }</span>

<span class="sd">                This parameter MUST be used only with</span>
<span class="sd">                ibmqx_hpc_qasm_simulator, otherwise the SDK will warn</span>
<span class="sd">                the user via logging, and set the value to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: the job id and populates the qobj::</span>

<span class="sd">            qobj =</span>
<span class="sd">                {</span>
<span class="sd">                    id: --job id (string),</span>
<span class="sd">                    config: -- dictionary of config settings (dict)--,</span>
<span class="sd">                        {</span>
<span class="sd">                        &quot;max_credits&quot; (online only): -- credits (int) --,</span>
<span class="sd">                        &quot;shots&quot;: -- number of shots (int) --.</span>
<span class="sd">                        &quot;backend&quot;: -- backend name (str) --</span>
<span class="sd">                        }</span>
<span class="sd">                    circuits:</span>
<span class="sd">                        [</span>
<span class="sd">                            {</span>
<span class="sd">                            &quot;name&quot;: --circuit name (string)--,</span>
<span class="sd">                            &quot;compiled_circuit&quot;: --compiled quantum circuit (JSON format)--,</span>
<span class="sd">                            &quot;compiled_circuit_qasm&quot;: --compiled quantum circuit (QASM format)--,</span>
<span class="sd">                            &quot;config&quot;: --dictionary of additional config settings (dict)--,</span>
<span class="sd">                                {</span>
<span class="sd">                                &quot;coupling_map&quot;: --adjacency list (list)--,</span>
<span class="sd">                                &quot;basis_gates&quot;: --comma separated gate names (string)--,</span>
<span class="sd">                                &quot;layout&quot;: --layout computed by mapper (dict)--,</span>
<span class="sd">                                &quot;seed&quot;: (simulator only)--initial seed for the simulator (int)--,</span>
<span class="sd">                                }</span>
<span class="sd">                            },</span>
<span class="sd">                            ...</span>
<span class="sd">                        ]</span>
<span class="sd">                }</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if no names of the circuits have been specified.</span>
<span class="sd">            QISKitError: if any of the circuit names cannot be found on the</span>
<span class="sd">                Quantum Program.</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            The `coupling_map` parameter as a dictionary will be deprecated in</span>
<span class="sd">            upcoming versions. Using the coupling_map as a list is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: Jay: currently basis_gates, coupling_map, initial_layout,</span>
        <span class="c1"># shots, max_credits and seed are extra inputs but I would like</span>
        <span class="c1"># them to go into the config.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coupling_map</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">coupling_map</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">mapper</span><span class="o">.</span><span class="n">coupling_dict2list</span><span class="p">(</span><span class="n">coupling_map</span><span class="p">)</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;coupling_map as a dictionary will be deprecated in upcoming versions (&gt;0.5.0). &quot;</span>
                <span class="s2">&quot;Using the coupling_map as a list recommended.&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

        <span class="n">qobj</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">qobj_id</span><span class="p">:</span>
            <span class="n">qobj_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">)])</span>
        <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qobj_id</span>
        <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;max_credits&quot;</span><span class="p">:</span> <span class="n">max_credits</span><span class="p">,</span> <span class="s1">&#39;backend&#39;</span><span class="p">:</span> <span class="n">backend</span><span class="p">,</span>
                          <span class="s2">&quot;shots&quot;</span><span class="p">:</span> <span class="n">shots</span><span class="p">}</span>

        <span class="c1"># TODO This backend needs HPC parameters to be passed in order to work</span>
        <span class="k">if</span> <span class="n">backend</span> <span class="o">==</span> <span class="s1">&#39;ibmqx_hpc_qasm_simulator&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">hpc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;ibmqx_hpc_qasm_simulator backend needs HPC &#39;</span>
                            <span class="s1">&#39;parameter. Setting defaults to hpc.multi_shot_optimization &#39;</span>
                            <span class="s1">&#39;= true and hpc.omp_num_threads = 16&#39;</span><span class="p">)</span>
                <span class="n">hpc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;multi_shot_optimization&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;omp_num_threads&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="n">hpc</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span>
                       <span class="p">(</span><span class="s1">&#39;multi_shot_optimization&#39;</span><span class="p">,</span> <span class="s1">&#39;omp_num_threads&#39;</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;Unknown HPC parameter format!&#39;</span><span class="p">)</span>

            <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;hpc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hpc</span>
        <span class="k">elif</span> <span class="n">hpc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;HPC parameter is only available for &#39;</span>
                        <span class="s1">&#39;ibmqx_hpc_qasm_simulator. You are passing an HPC parameter &#39;</span>
                        <span class="s1">&#39;but you are not using ibmqx_hpc_qasm_simulator, so we will &#39;</span>
                        <span class="s1">&#39;ignore it.&#39;</span><span class="p">)</span>
            <span class="n">hpc</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;circuits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">backend_conf</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">backend</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">basis_gates</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;basis_gates&#39;</span> <span class="ow">in</span> <span class="n">backend_conf</span><span class="p">:</span>
                <span class="n">basis_gates</span> <span class="o">=</span> <span class="n">backend_conf</span><span class="p">[</span><span class="s1">&#39;basis_gates&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">basis_gates</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c1"># catches deprecated basis specification like &#39;SU2+CNOT&#39;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;encountered deprecated basis specification: &#39;</span>
                           <span class="s1">&#39;&quot;</span><span class="si">%s</span><span class="s1">&quot; substituting u1,u2,u3,cx,id&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">basis_gates</span><span class="p">))</span>
            <span class="n">basis_gates</span> <span class="o">=</span> <span class="s1">&#39;u1,u2,u3,cx,id&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">coupling_map</span><span class="p">:</span>
            <span class="n">coupling_map</span> <span class="o">=</span> <span class="n">backend_conf</span><span class="p">[</span><span class="s1">&#39;coupling_map&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name_of_circuits</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Since not circuits was specified, all the circuits will be compiled.&#39;</span><span class="p">)</span>
            <span class="n">name_of_circuits</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_circuit_names</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name_of_circuits</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">name_of_circuits</span> <span class="o">=</span> <span class="p">[</span><span class="n">name_of_circuits</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_of_circuits</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;circuit &quot;</span><span class="si">{0}</span><span class="s1">&quot; not found in program&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
            <span class="n">circuit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__quantum_program</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="n">num_qubits</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">qreg</span><span class="p">)</span> <span class="k">for</span> <span class="n">qreg</span> <span class="ow">in</span> <span class="n">circuit</span><span class="o">.</span><span class="n">get_qregs</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
            <span class="c1"># TODO: A better solution is to have options to enable/disable optimizations</span>
            <span class="k">if</span> <span class="n">num_qubits</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">coupling_map</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">coupling_map</span> <span class="o">==</span> <span class="s1">&#39;all-to-all&#39;</span><span class="p">:</span>
                <span class="n">coupling_map</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">dag_circuit</span><span class="p">,</span> <span class="n">final_layout</span> <span class="o">=</span> <span class="n">openquantumcompiler</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
                <span class="n">circuit</span><span class="p">,</span>
                <span class="n">basis_gates</span><span class="o">=</span><span class="n">basis_gates</span><span class="p">,</span>
                <span class="n">coupling_map</span><span class="o">=</span><span class="n">coupling_map</span><span class="p">,</span>
                <span class="n">initial_layout</span><span class="o">=</span><span class="n">initial_layout</span><span class="p">,</span>
                <span class="n">get_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="c1"># making the job to be added to qobj</span>
            <span class="n">job</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
            <span class="c1"># config parameters used by the runner</span>
            <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># default to empty config dict</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;coupling_map&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">coupling_map</span>
            <span class="c1"># TODO: Jay: make config options optional for different backends</span>
            <span class="c1"># Map the layout to a format that can be json encoded</span>
            <span class="n">list_layout</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">final_layout</span><span class="p">:</span>
                <span class="n">list_layout</span> <span class="o">=</span> <span class="p">[[</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">final_layout</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;layout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">list_layout</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;basis_gates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">basis_gates</span>
            <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;seed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">job</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">][</span><span class="s2">&quot;seed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">seed</span>
            <span class="c1"># the compiled circuit to be run saved as a dag</span>
            <span class="c1"># we assume that openquantumcompiler has already expanded gates</span>
            <span class="c1"># to the target basis, so we just need to generate json</span>
            <span class="n">json_circuit</span> <span class="o">=</span> <span class="n">unroll</span><span class="o">.</span><span class="n">DagUnroller</span><span class="p">(</span><span class="n">dag_circuit</span><span class="p">,</span>
                                              <span class="n">unroll</span><span class="o">.</span><span class="n">JsonBackend</span><span class="p">(</span><span class="n">dag_circuit</span><span class="o">.</span><span class="n">basis</span><span class="p">))</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;compiled_circuit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_circuit</span>
            <span class="c1"># set eval_symbols=True to evaluate each symbolic expression</span>
            <span class="c1"># TODO after transition to qobj, we can drop this</span>
            <span class="n">job</span><span class="p">[</span><span class="s2">&quot;compiled_circuit_qasm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dag_circuit</span><span class="o">.</span><span class="n">qasm</span><span class="p">(</span><span class="n">qeflag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                            <span class="n">eval_symbols</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="c1"># add job to the qobj</span>
            <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qobj</span></div>

<div class="viewcode-block" id="QuantumProgram.reconfig"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.reconfig">[docs]</a>    <span class="k">def</span> <span class="nf">reconfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_credits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change configuration parameters for a compile qobj. Only parameters which</span>
<span class="sd">        don&#39;t affect the circuit compilation can change, e.g., the coupling_map</span>
<span class="sd">        cannot be changed here!</span>

<span class="sd">        Notes:</span>
<span class="sd">            If the inputs are left as None then the qobj is not updated</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj (dict): already compile qobj</span>
<span class="sd">            backend (str): see .compile</span>
<span class="sd">            config (dict): see .compile</span>
<span class="sd">            shots (int): see .compile</span>
<span class="sd">            max_credits (int): see .compile</span>
<span class="sd">            seed (int): see .compile</span>

<span class="sd">        Returns:</span>
<span class="sd">            qobj: updated qobj</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">backend</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;backend&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">backend</span>
        <span class="k">if</span> <span class="n">shots</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;shots&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">shots</span>
        <span class="k">if</span> <span class="n">max_credits</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;max_credits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_credits</span>

        <span class="k">for</span> <span class="n">circuits</span> <span class="ow">in</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;circuits&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">seed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">circuits</span><span class="p">[</span><span class="s1">&#39;seed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">seed</span>
            <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">circuits</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">qobj</span></div>

<div class="viewcode-block" id="QuantumProgram.get_execution_list"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_execution_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_execution_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">print_func</span><span class="o">=</span><span class="nb">print</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Print the compiled circuits that are ready to run.</span>

<span class="sd">        Note:</span>
<span class="sd">            This method is intended to be used during interactive sessions, and</span>
<span class="sd">            prints directly to stdout instead of using the logger by default. If</span>
<span class="sd">            you set print_func with a log function (eg. log.info) it will be used</span>
<span class="sd">            instead of the stdout.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(hashable): names of the circuits in `qobj`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">qobj</span><span class="p">:</span>
            <span class="n">print_func</span><span class="p">(</span><span class="s2">&quot;no executions to run&quot;</span><span class="p">)</span>
        <span class="n">execution_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">print_func</span><span class="p">(</span><span class="s2">&quot;id: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
        <span class="n">print_func</span><span class="p">(</span><span class="s2">&quot;backend: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;backend&#39;</span><span class="p">])</span>
        <span class="n">print_func</span><span class="p">(</span><span class="s2">&quot;qobj config:&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;backend&#39;</span><span class="p">:</span>
                <span class="n">print_func</span><span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]))</span>
        <span class="k">for</span> <span class="n">circuit</span> <span class="ow">in</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;circuits&#39;</span><span class="p">]:</span>
            <span class="n">execution_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">circuit</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
            <span class="n">print_func</span><span class="p">(</span><span class="s1">&#39;  circuit name: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">circuit</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]))</span>
            <span class="n">print_func</span><span class="p">(</span><span class="s1">&#39;  circuit config:&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">circuit</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">]:</span>
                <span class="n">print_func</span><span class="p">(</span><span class="s1">&#39;   &#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">circuit</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="n">key</span><span class="p">]))</span>
        <span class="k">return</span> <span class="n">execution_list</span></div>

<div class="viewcode-block" id="QuantumProgram.get_compiled_configuration"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_compiled_configuration">[docs]</a>    <span class="k">def</span> <span class="nf">get_compiled_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the compiled layout for the named circuit and backend.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str):  the circuit name</span>
<span class="sd">            qobj (dict): the qobj</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: the config of the circuit.</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the circuit has no configurations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;config&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;No compiled configurations for circuit &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

<div class="viewcode-block" id="QuantumProgram.get_compiled_qasm"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.get_compiled_qasm">[docs]</a>    <span class="k">def</span> <span class="nf">get_compiled_qasm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the compiled circuit in qasm format.</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj (dict): the qobj</span>
<span class="sd">            name (str): name of the quantum circuit</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the QASM of the compiled circuit.</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the circuit has no configurations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">qobj</span><span class="p">[</span><span class="s2">&quot;circuits&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;compiled_circuit_qasm&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s1">&#39;No compiled qasm for circuit &quot;</span><span class="si">{0}</span><span class="s1">&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># methods to run quantum programs</span>
    <span class="c1">###############################################################</span>

<div class="viewcode-block" id="QuantumProgram.run"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run a program (a pre-compiled quantum program). This function will</span>
<span class="sd">        block until the Job is processed.</span>

<span class="sd">        The program to run is extracted from the qobj parameter.</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj (dict): the dictionary of the quantum object to run.</span>
<span class="sd">            wait (int): Time interval to wait between requests for results</span>
<span class="sd">            timeout (int): Total time to wait until the execution stops</span>

<span class="sd">        Returns:</span>
<span class="sd">            Result: A Result (class).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_blocker_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>
        <span class="n">job_result</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">job_done_callback</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Callback called when the job is done. It basically</span>
<span class="sd">            transforms the results to what the user expects and pass it</span>
<span class="sd">            to the main thread</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">nonlocal</span> <span class="n">job_result</span>
            <span class="n">job_result</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">job_blocker_event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_run_internal</span><span class="p">([</span><span class="n">qobj</span><span class="p">],</span>
                           <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span>
                           <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                           <span class="n">callback</span><span class="o">=</span><span class="n">job_done_callback</span><span class="p">)</span>

        <span class="c1"># Do not set a timeout, as the timeout is being managed by the job</span>
        <span class="n">job_blocker_event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">job_result</span></div>

<div class="viewcode-block" id="QuantumProgram.run_batch"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.run_batch">[docs]</a>    <span class="k">def</span> <span class="nf">run_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj_list</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run various programs (a list of pre-compiled quantum programs). This</span>
<span class="sd">        function will block until all programs are processed.</span>

<span class="sd">        The programs to run are extracted from qobj elements of the list.</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj_list (list(dict)): The list of quantum objects to run.</span>
<span class="sd">            wait (int): Time interval to wait between requests for results</span>
<span class="sd">            timeout (int): Total time to wait until the execution stops</span>

<span class="sd">        Returns:</span>
<span class="sd">            list(Result): A list of Result (class). The list will contain one Result object</span>
<span class="sd">            per qobj in the input list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">job_blocker_event</span> <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>
        <span class="n">job_results</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">job_done_callback</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Callback called when the job is done. It basically</span>
<span class="sd">            transforms the results to what the user expects and pass it</span>
<span class="sd">            to the main thread.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">nonlocal</span> <span class="n">job_results</span>
            <span class="n">job_results</span> <span class="o">=</span> <span class="n">results</span>
            <span class="n">job_blocker_event</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_run_internal</span><span class="p">(</span><span class="n">qobj_list</span><span class="p">,</span>
                           <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span>
                           <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                           <span class="n">callback</span><span class="o">=</span><span class="n">job_done_callback</span><span class="p">)</span>

        <span class="n">job_blocker_event</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">job_results</span></div>

<div class="viewcode-block" id="QuantumProgram.run_async"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.run_async">[docs]</a>    <span class="k">def</span> <span class="nf">run_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run a program (a pre-compiled quantum program) asynchronously. This</span>
<span class="sd">        is a non-blocking function, so it will return immediately.</span>

<span class="sd">        All input for run comes from qobj.</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj(dict): the dictionary of the quantum object to</span>
<span class="sd">                run or list of qobj.</span>
<span class="sd">            wait (int): Time interval to wait between requests for results</span>
<span class="sd">            timeout (int): Total time to wait until the execution stops</span>
<span class="sd">            callback (fn(result)): A function with signature:</span>
<span class="sd">                    fn(result):</span>
<span class="sd">                    The result param will be a Result object.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">job_done_callback</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Callback called when the job is done. It basically</span>
<span class="sd">            transforms the results to what the user expects and pass it</span>
<span class="sd">            to the main thread.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">callback</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># The user is expecting a single Result</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_run_internal</span><span class="p">([</span><span class="n">qobj</span><span class="p">],</span>
                           <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span>
                           <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                           <span class="n">callback</span><span class="o">=</span><span class="n">job_done_callback</span><span class="p">)</span></div>

<div class="viewcode-block" id="QuantumProgram.run_batch_async"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.run_batch_async">[docs]</a>    <span class="k">def</span> <span class="nf">run_batch_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj_list</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run various programs (a list of pre-compiled quantum program)</span>
<span class="sd">        asynchronously. This is a non-blocking function, so it will return</span>
<span class="sd">        immediately.</span>

<span class="sd">        All input for run comes from qobj.</span>

<span class="sd">        Args:</span>
<span class="sd">            qobj_list (list(dict)): The list of quantum objects to run.</span>
<span class="sd">            wait (int): Time interval to wait between requests for results</span>
<span class="sd">            timeout (int): Total time to wait until the execution stops</span>
<span class="sd">            callback (fn(results)): A function with signature:</span>
<span class="sd">                    fn(results):</span>
<span class="sd">                    The results param will be a list of Result objects, one</span>
<span class="sd">                    Result per qobj in the input list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_run_internal</span><span class="p">(</span><span class="n">qobj_list</span><span class="p">,</span>
                           <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span>
                           <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
                           <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_run_internal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qobj_list</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">q_job_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">qobj</span> <span class="ow">in</span> <span class="n">qobj_list</span><span class="p">:</span>
            <span class="n">q_job</span> <span class="o">=</span> <span class="n">QuantumJob</span><span class="p">(</span><span class="n">qobj</span><span class="p">,</span> <span class="n">preformatted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;max_credits&#39;</span><span class="p">:</span> <span class="n">qobj</span><span class="p">[</span><span class="s1">&#39;config&#39;</span><span class="p">][</span><span class="s1">&#39;max_credits&#39;</span><span class="p">],</span> <span class="s1">&#39;wait&#39;</span><span class="p">:</span> <span class="n">wait</span><span class="p">,</span>
                <span class="s1">&#39;timeout&#39;</span><span class="p">:</span> <span class="n">timeout</span><span class="p">})</span>
            <span class="n">q_job_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">q_job</span><span class="p">)</span>

        <span class="n">job_processor</span> <span class="o">=</span> <span class="n">JobProcessor</span><span class="p">(</span><span class="n">q_job_list</span><span class="p">,</span> <span class="n">max_workers</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                     <span class="n">callback</span><span class="o">=</span><span class="n">callback</span><span class="p">)</span>
        <span class="n">job_processor</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>

<div class="viewcode-block" id="QuantumProgram.execute"><a class="viewcode-back" href="../../_autodoc/qiskit.QuantumProgram.html#qiskit.QuantumProgram.execute">[docs]</a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_of_circuits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;local_qasm_simulator&quot;</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">basis_gates</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">coupling_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">initial_layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
                <span class="n">max_credits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hpc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;Execute, compile, and run an array of quantum circuits).</span>

<span class="sd">        This builds the internal &quot;to execute&quot; list which is list of quantum</span>
<span class="sd">        circuits to run on different backends.</span>

<span class="sd">        Args:</span>
<span class="sd">            name_of_circuits (list[hashable] or hashable or None): circuit</span>
<span class="sd">                names to be executed. If None, all the circuits will be</span>
<span class="sd">                executed.</span>
<span class="sd">            backend (str): a string representing the backend to compile to.</span>
<span class="sd">            config (dict): a dictionary of configurations parameters for the</span>
<span class="sd">                compiler.</span>
<span class="sd">            wait (int): Time interval to wait between requests for results</span>
<span class="sd">            timeout (int): Total time to wait until the execution stops</span>
<span class="sd">            basis_gates (str): a comma separated string and are the base gates,</span>
<span class="sd">                               which by default are: u1,u2,u3,cx,id.</span>
<span class="sd">            coupling_map (list): A graph of coupling::</span>

<span class="sd">                [</span>
<span class="sd">                    [control0(int), target0(int)],</span>
<span class="sd">                    [control1(int), target1(int)],</span>
<span class="sd">                ]</span>

<span class="sd">                eg. [[0, 2], [1, 2], [3, 2]]</span>

<span class="sd">            initial_layout (dict): A mapping of qubit to qubit</span>
<span class="sd">                                  {</span>
<span class="sd">                                  (&quot;q&quot;, start(int)): (&quot;q&quot;, final(int)),</span>
<span class="sd">                                  ...</span>
<span class="sd">                                  }</span>
<span class="sd">                                  eg.</span>
<span class="sd">                                  {</span>
<span class="sd">                                  (&quot;q&quot;, 0): (&quot;q&quot;, 0),</span>
<span class="sd">                                  (&quot;q&quot;, 1): (&quot;q&quot;, 1),</span>
<span class="sd">                                  (&quot;q&quot;, 2): (&quot;q&quot;, 2),</span>
<span class="sd">                                  (&quot;q&quot;, 3): (&quot;q&quot;, 3)</span>
<span class="sd">                                  }</span>
<span class="sd">            shots (int): the number of shots</span>
<span class="sd">            max_credits (int): the max credits to use 3, or 5</span>
<span class="sd">            seed (int): the initial seed the simulators use</span>
<span class="sd">            hpc (dict): This will setup some parameter for</span>
<span class="sd">                        ibmqx_hpc_qasm_simulator, using a JSON-like format like::</span>

<span class="sd">                            {</span>
<span class="sd">                                &#39;multi_shot_optimization&#39;: Boolean,</span>
<span class="sd">                                &#39;omp_num_threads&#39;: Numeric</span>
<span class="sd">                            }</span>

<span class="sd">                        This parameter MUST be used only with</span>
<span class="sd">                        ibmqx_hpc_qasm_simulator, otherwise the SDK will warn</span>
<span class="sd">                        the user via logging, and set the value to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Result: status done and populates the internal __quantum_program with the</span>
<span class="sd">            data</span>

<span class="sd">        .. deprecated:: 0.5</span>
<span class="sd">            The `coupling_map` parameter as a dictionary will be deprecated in</span>
<span class="sd">            upcoming versions. Using the coupling_map as a list is recommended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: Jay: currently basis_gates, coupling_map, initial_layout, shots,</span>
        <span class="c1"># max_credits, and seed are extra inputs but I would like them to go</span>
        <span class="c1"># into the config</span>
        <span class="n">qobj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">name_of_circuits</span><span class="o">=</span><span class="n">name_of_circuits</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="n">backend</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                            <span class="n">basis_gates</span><span class="o">=</span><span class="n">basis_gates</span><span class="p">,</span>
                            <span class="n">coupling_map</span><span class="o">=</span><span class="n">coupling_map</span><span class="p">,</span> <span class="n">initial_layout</span><span class="o">=</span><span class="n">initial_layout</span><span class="p">,</span>
                            <span class="n">shots</span><span class="o">=</span><span class="n">shots</span><span class="p">,</span> <span class="n">max_credits</span><span class="o">=</span><span class="n">max_credits</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
                            <span class="n">hpc</span><span class="o">=</span><span class="n">hpc</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">qobj</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span></div>

    <span class="c1">###############################################################</span>
    <span class="c1"># utility methods</span>
    <span class="c1">###############################################################</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_single_item</span><span class="p">(</span><span class="n">items</span><span class="p">,</span> <span class="n">item_description</span><span class="o">=</span><span class="s2">&quot;an item&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the first and only element of `items`, raising an error</span>
<span class="sd">        otherwise.</span>

<span class="sd">        Args:</span>
<span class="sd">            items (list): list of items.</span>
<span class="sd">            item_description (string): text description of the item type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            object: the first and only element of `items`.</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the list does not have exactly one item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span>
                <span class="s2">&quot;The name of </span><span class="si">%s</span><span class="s2"> needs to be explicitly indicated, as there is &quot;</span>
                <span class="s2">&quot;more than one available&quot;</span> <span class="o">%</span> <span class="n">item_description</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">existing_ids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return an automatically generated identifier, increased sequentially</span>
<span class="sd">        based on the internal `_counter` generator, with the form</span>
<span class="sd">        &quot;[prefix][numeric_id]&quot; (ie. &quot;q2&quot;, where the prefix is &quot;q&quot;).</span>
<span class="sd">        Args:</span>
<span class="sd">            prefix (str): string to be prepended to the numeric id.</span>
<span class="sd">            existing_ids (iterable): list of ids that should be checked for</span>
<span class="sd">                duplicates.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the new identifier.</span>

<span class="sd">        Raises:</span>
<span class="sd">            QISKitError: if the identifier is already in `existing_ids`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__counter</span><span class="p">)</span>
        <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_ids</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">identifier</span>
        <span class="k">raise</span> <span class="n">QISKitError</span><span class="p">(</span><span class="s2">&quot;The automatically generated identifier &#39;</span><span class="si">%s</span><span class="s2">&#39; already &quot;</span>
                          <span class="s2">&quot;exists&quot;</span> <span class="o">%</span> <span class="n">identifier</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
<li id="toc-toggle">
<a class="btn btn-primary" role="button" data-toggle="collapse"
   href=".sphinxsidebar" aria-expanded="false" aria-controls="collapseExample">
  TOC</a> |
</li>

        <li class="nav-item nav-item-0"><a href="../../index.html">QISKit SDK 0.4.14 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017-2018 IBM Research.
      Last updated on 2018/04/18.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>