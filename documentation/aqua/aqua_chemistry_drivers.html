

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Drivers &#8212; Qiskit Aqua 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <script type="text/javascript" src="_static/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Translators" href="aqua_chemistry_translators.html" />
    <link rel="prev" title="Installation and Setup" href="aqua_chemistry_installation.html" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<!--[if lt IE 9]>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
<div id="head" class="head">
    <a href="https://qiskit.org/acqua">QISKit Acqua</a>
</div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aqua_chemistry_translators.html" title="Translators"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="aqua_chemistry_installation.html" title="Installation and Setup"
             accesskey="P">previous</a> |</li>
<li id="toc-toggle">
<a class="btn btn-primary" role="button" data-toggle="collapse"
   href=".sphinxsidebar" aria-expanded="false" aria-controls="collapseExample">
  TOC</a> |
</li>

        <li class="nav-item nav-item-0"><a href="index.html">Qiskit Aqua 0.2.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="aqua.html" >Qiskit Aqua</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="aqua_chemistry.html" accesskey="U">Aqua Chemistry</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/qiskit-logo-white-no-margin.gif" alt="Logo"/>
            </a></p>
<p class="logo-description">Qiskit Aqua</p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="aqua.html">Qiskit Aqua</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="library.html">Aqua: A Library of Quantum Algorithms</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="aqua_chemistry.html">Aqua Chemistry</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="aqua_chemistry_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="aqua_chemistry_installation.html">Installation and Setup</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gaussian-16">Gaussian™ 16</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#compiling-the-fortran-interfacing-code">Compiling the Fortran Interfacing Code</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#apple-macos-and-linux">Apple macOS and Linux</a></li>
<li class="toctree-l6"><a class="reference internal" href="#microsoft-windows">Microsoft Windows</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#verifying-path-and-environment-setup">Verifying Path and Environment Setup</a></li>
<li class="toctree-l5"><a class="reference internal" href="#input-file-example">Input File Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#psi4">PSI4</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyscf">PySCF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyquante">PyQuante</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hdf5">HDF5</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#generation-of-an-hdf5-input-file">Generation of an HDF5 Input File</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="aqua_chemistry_translators.html">Translators</a></li>
<li class="toctree-l3"><a class="reference internal" href="aqua_chemistry_execution.html">Running an Experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="aqua_chemistry_extending.html">Contributing to Aqua Chemistry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="aqua_ai.html">Aqua Artificial Intelligence</a></li>
<li class="toctree-l2"><a class="reference internal" href="aqua_optimization.html">Aqua Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="aqua_tutorials.html">Aqua Tutorials</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="aqua_chemistry_installation.html"
                        title="previous chapter">Installation and Setup</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="aqua_chemistry_translators.html"
                        title="next chapter">Translators</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/aqua_chemistry_drivers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="drivers">
<span id="id1"></span><h1>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h1>
<p>Aqua Chemistry requires a computational chemistry program or library, known as <em>driver</em>, to be installed on the
system for the electronic-structure computation.  When launched via the Aqua Chemistry
<a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-command-line"><span class="std std-ref">Command Line</span></a>,
<a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>, or <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-programmable-interface"><span class="std std-ref">Programmable Interface</span></a>,
Aqua Chemistry expects a driver to be specified, and a
molecular configuration to be passed in the format compatible with that driver.
Aqua Chemistry uses the driver not only as a frontend input language, to allow the user to configure
a chemistry problem in a language that an experienced chemist is already familiar with, but also
to compute some intermediate data, which will be later on used to form the input to one of the
<a class="reference internal" href="extending.html#algorithms"><span class="std std-ref">Algorithms</span></a>.  Such intermediate date
includes the following:</p>
<ol class="arabic simple">
<li>One- and two-body integrals in Molecular Orbital (MO) basis</li>
<li>Dipole integrals</li>
<li>Molecular orbital coefficients</li>
<li>Hartree-Fock energy</li>
<li>Nuclear repulsion energy</li>
</ol>
<p>Once extracted, the structure of this intermediate data is independent of the
driver that was used to compute it.  The only thing that could still depend on the driver
is the level of accuracy of such data; most likely,
a more elaborate driver will produce more accurate data.
Aqua Chemistry offers the option to serialize this data in a binary format known as
<a class="reference external" href="https://support.hdfgroup.org/HDF5/">Hierarchical Data Format 5 (HDF5)</a>.
This is done to allow chemists to reuse the same input data in the future
and to enable researchers to exchange
input data with each other — which is especially useful to researchers who may not have particular
computational chemistry drivers installed on their computers.</p>
<p>In order for a driver to be usable by Aqua Chemistry, an interface to that driver
must be built in Aqua Chemistry.  Aqua Chemistry offers the <code class="docutils literal notranslate"><span class="pre">BaseDriver</span></code>
Application Programming Interface (API) to support interfacing new drivers.</p>
<p>Currently, Aqua Chemistry comes with interfaces prebuilt
for the following four computational chemistry software drivers:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#gaussian-16"><span class="std std-ref">Gaussian™ 16</span></a></li>
<li><a class="reference internal" href="#psi4"><span class="std std-ref">PSI4</span></a></li>
<li><a class="reference internal" href="#pyscf"><span class="std std-ref">PySCF</span></a></li>
<li><a class="reference internal" href="#pyquante"><span class="std std-ref">PyQuante</span></a></li>
</ol>
<div class="topic">
<p class="topic-title first">The HDF5 Driver</p>
<p>A fifth driver, called HDF5, comes prebuilt in Aqua Chemistry.  This is, in fact, the only driver
that does not require the installation or configuration of any external computational chemistry software,
since it is already part of Aqua Chemistry.
The HDF5 driver allows for chemistry input, in the form of an HDF5 file as specified above,
to be passed into the computation.</p>
</div>
<div class="topic">
<p class="topic-title first">Extending Aqua Chemistry with Support for New Drivers</p>
<p>The driver support in Aqua Chemistry was designed to make the drivers pluggable and discoverable.
In order for Aqua Chemistry to
be able to interface a driver library, the <code class="docutils literal notranslate"><span class="pre">BaseDriver</span></code> base class must be implemented in order
to provide the interfacing code, or <em>wrapper</em>.  As part of this process, the required
<a class="reference external" href="http://json.org">JavaScript Object Notation (JSON)</a> schema for the driver interface must
be provided in a file named <code class="docutils literal notranslate"><span class="pre">configuration.json</span></code>.  The interfacing code in the driver wrapper
is responsible for constructing and populating a <code class="docutils literal notranslate"><span class="pre">QMolecule</span></code> instance with the electronic
structure data listed above.  Driver wrappers implementing the <code class="docutils literal notranslate"><span class="pre">BaseDriver</span></code> class and the
associated <code class="docutils literal notranslate"><span class="pre">configuration.json</span></code> schema file are organized in subfolders of the <code class="docutils literal notranslate"><span class="pre">drivers</span></code> folder
for automatic discovery and dynamic lookup.  Consulting the existing driver interface
implementations may be helpful in accomplishing the task of extending .</p>
</div>
<p>The remainder of this section describes how to install and configure the drivers currently supported
by Aqua Chemistry.</p>
<div class="section" id="gaussian-16">
<span id="id2"></span><h2>Gaussian™ 16<a class="headerlink" href="#gaussian-16" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://gaussian.com/gaussian16/">Gaussian™ 16</a> is a commercial program for computational chemistry.
The corresponding driver wrapper in Aqua Chemistry accesses electronic structure information from Gaussian™ 16
via the Gaussian-supplied open-source <a class="reference external" href="http://www.gaussian.com/interfacing/">interfacing code</a>.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">qiskit_aqua_chemistry/drivers/gaussiand/gauopen</span></code> folder of the
<a class="reference external" href="https://github.com/Qiskit/aqua-chemistry">Aqua Chemistry GitHub repository</a>,
the Python part of the above interfacing code, as needed by Aqua Chemistry,
has been made available. It is licensed under a
<a class="reference external" href="https://github.com/Qiskit/aqua-chemistry/blob/master/qiskit_aqua_chemistry/drivers/gaussiand/gauopen/LICENSE.txt">Gaussian Open-Source Public License</a>.</p>
<p>Part of this interfacing code — specifically, the Fortran file <code class="docutils literal notranslate"><span class="pre">qcmatrixio.F</span></code> — requires compilation to a Python native extension. However,
Aqua Chemistry comes with pre-built binaries for most common platforms. If there is no pre-built binary
matching your platform, then it will be necessary to compile this file as per the instructions below.</p>
<div class="section" id="compiling-the-fortran-interfacing-code">
<h3>Compiling the Fortran Interfacing Code<a class="headerlink" href="#compiling-the-fortran-interfacing-code" title="Permalink to this headline">¶</a></h3>
<p>If no prebuilt native extension binary, as supplied with Aqua Chemistry, works for your platform, then
to use the Gaussian™ 16 driver on your machine, the Fortran file <code class="docutils literal notranslate"><span class="pre">qcmatrixio.F</span></code> must be compiled into object code that can
be used by Python. This is accomplished using the
<a class="reference external" href="https://docs.scipy.org/doc/numpy/f2py/">Fortran to Python Interface Generator (F2PY)</a>,
which is part of the <a class="reference external" href="http://www.numpy.org/">NumPy</a> Python library.
Specifically, on your command prompt window, change directory to the <code class="docutils literal notranslate"><span class="pre">qiskit_aqua_chemistry/drivers/gaussiand/gauopen</span></code>
directory inside the Aqua Chemistry installation directory, and while in the Python environment
created for Aqua and Aqua Chemistry, invoke <code class="docutils literal notranslate"><span class="pre">f2py</span></code> on <code class="docutils literal notranslate"><span class="pre">qcmatrixio.F</span></code> as explained below.</p>
<div class="section" id="apple-macos-and-linux">
<h4>Apple macOS and Linux<a class="headerlink" href="#apple-macos-and-linux" title="Permalink to this headline">¶</a></h4>
<p>The full syntax of the <code class="docutils literal notranslate"><span class="pre">f2py</span></code> command on macOS and Linux is as follows:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f2py</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span><span class="n">m</span> <span class="n">qcmatrixio</span> <span class="n">qcmatrixio</span><span class="o">.</span><span class="n">F</span>
</pre></div>
</div>
<p>This command will generate a file with name prefix <code class="docutils literal notranslate"><span class="pre">qcmatrixio</span></code> and extension <code class="docutils literal notranslate"><span class="pre">so</span></code>, for example
<code class="docutils literal notranslate"><span class="pre">qcmatrixio.cpython-36m-x86_64-linux-gnu.so</span></code>.
In order for the command above to work and such file to be generated, you will need a supported Fortran compiler installed.
On macOS, you may have to download the <a class="reference external" href="https://gcc.gnu.org/">GNU Compiler Collection (GCC)</a>
and, in particular, the <a class="reference external" href="https://gcc.gnu.org/fortran/">GFortran Compiler</a> source and compile it first
if you do not a suitable Fortran compiler installed
On Linux you may be able to download and install a supported Fortran compiler via your distribution’s installer.</p>
<div class="topic">
<p class="topic-title first">Special Notes for macOS X</p>
<p>If your account is using the bash shell on a macOS X machine, you can edit the <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> file
in your home directory and add the following lines:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GAUSS_SCRDIR</span><span class="o">=~/.</span><span class="n">gaussian</span>
<span class="n">export</span> <span class="n">g16root</span><span class="o">=/</span><span class="n">Applications</span>
<span class="n">alias</span> <span class="n">enable_gaussian</span><span class="o">=</span><span class="s1">&#39;. $g16root/g16/bsd/g16.profile&#39;</span>
</pre></div>
</div>
<p>The above assumes that the application Gaussian™ 16 was placed in the <code class="docutils literal notranslate"><span class="pre">/Applications</span></code> folder and that
<code class="docutils literal notranslate"><span class="pre">~/.gaussian</span></code> is the full path to
the selected scratch folder, where Gaussian™ 16 stores its temporary files.</p>
<p>Now, before Aqua Chemistry can properly interface Gaussian™ 16, you will have to run the <code class="docutils literal notranslate"><span class="pre">enable_gaussian</span></code> command
defined above.  This, however, may generate the following error:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span><span class="p">:</span> <span class="n">ulimit</span><span class="p">:</span> <span class="nb">open</span> <span class="n">files</span><span class="p">:</span> <span class="n">cannot</span> <span class="n">modify</span> <span class="n">limit</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">argument</span>
</pre></div>
</div>
<p>While this error is not harmful, you might want to suppress it, which can be done by entering the following sequence
of commands on the command line:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="n">kern</span><span class="o">.</span><span class="n">maxfiles</span><span class="o">=</span><span class="mi">65536</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">-</span><span class="n">a</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysctl</span><span class="o">.</span><span class="n">conf</span>
<span class="n">echo</span> <span class="n">kern</span><span class="o">.</span><span class="n">maxfilesperproc</span><span class="o">=</span><span class="mi">65536</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">-</span><span class="n">a</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sysctl</span><span class="o">.</span><span class="n">conf</span>
<span class="n">sudo</span> <span class="n">sysctl</span> <span class="o">-</span><span class="n">w</span> <span class="n">kern</span><span class="o">.</span><span class="n">maxfiles</span><span class="o">=</span><span class="mi">65536</span>
<span class="n">sudo</span> <span class="n">sysctl</span> <span class="o">-</span><span class="n">w</span> <span class="n">kern</span><span class="o">.</span><span class="n">maxfilesperproc</span><span class="o">=</span><span class="mi">65536</span>
<span class="n">ulimit</span> <span class="o">-</span><span class="n">n</span> <span class="mi">65536</span> <span class="mi">65536</span>
</pre></div>
</div>
<p>as well as finally adding the following line to the <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> file in your account’s home directory:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ulimit</span> <span class="o">-</span><span class="n">n</span> <span class="mi">65536</span> <span class="mi">65536</span>
</pre></div>
</div>
<p>At the end of this configuration, the <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> in your account’s home directory should have a section in it
like in the following script snippet:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gaussian 16</span>
<span class="n">export</span> <span class="n">GAUSS_SCRDIR</span><span class="o">=~/.</span><span class="n">gaussian</span>
<span class="n">export</span> <span class="n">g16root</span><span class="o">=/</span><span class="n">Applications</span>
<span class="n">alias</span> <span class="n">enable_gaussian</span><span class="o">=</span><span class="s1">&#39;. $g16root/g16/bsd/g16.profile&#39;</span>
<span class="n">ulimit</span> <span class="o">-</span><span class="n">n</span> <span class="mi">65536</span> <span class="mi">65536</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="microsoft-windows">
<h4>Microsoft Windows<a class="headerlink" href="#microsoft-windows" title="Permalink to this headline">¶</a></h4>
<p>The following steps can be used with the Intel Fortran compiler on the Microsoft Windows platform:</p>
<ol class="arabic">
<li><p class="first">Set up the environment by adding the following line to <code class="docutils literal notranslate"><span class="pre">ifortvars.bat</span></code>:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ifortvars</span> <span class="o">-</span><span class="n">arch</span> <span class="n">intel64</span>
</pre></div>
</div>
</li>
<li><p class="first">Issue the following command from within the <code class="docutils literal notranslate"><span class="pre">gauopen</span></code> directory:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f2py</span> <span class="o">-</span><span class="n">c</span> <span class="o">--</span><span class="n">fcompiler</span><span class="o">=</span><span class="n">intelvem</span> <span class="o">-</span><span class="n">m</span> <span class="n">qcmatrixio</span> <span class="n">qcmatrixio</span><span class="o">.</span><span class="n">F</span>
</pre></div>
</div>
<p>Upon successful execution, the <code class="docutils literal notranslate"><span class="pre">f2py</span></code> command above will generate a file with name prefix <code class="docutils literal notranslate"><span class="pre">qcmatrixio</span></code> and
extension <code class="docutils literal notranslate"><span class="pre">so</span></code>, for example <code class="docutils literal notranslate"><span class="pre">qcmatrixio.cp36-win_amd64.pyd</span></code>.  However, in order for the <code class="docutils literal notranslate"><span class="pre">f2py</span></code> command above
to work, <code class="docutils literal notranslate"><span class="pre">#ifdef</span></code> may need to be manually edited if it is not recognized or supported during the processing of the <code class="docutils literal notranslate"><span class="pre">f2py</span></code> command
above.  For example, with <code class="docutils literal notranslate"><span class="pre">f2py</span></code> from Intel Visual Fortran Compiler with Microsoft Visual Studio, the following code snippet
originally shows two occurrences of the line <code class="docutils literal notranslate"><span class="pre">Parameter</span> <span class="pre">(Len12D=8,Len4D=8)</span></code>, as shown next:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifdef USE_I8</span>
    <span class="n">Parameter</span> <span class="p">(</span><span class="n">Len12D</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">Len4D</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="c1">#else</span>
    <span class="n">Parameter</span> <span class="p">(</span><span class="n">Len12D</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">Len4D</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p>This may need to be simplified by deleting the first three lines and the last line, leaving just the fourth line, as follows:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Parameter</span> <span class="p">(</span><span class="n">Len12D</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">Len4D</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="verifying-path-and-environment-setup">
<h3>Verifying Path and Environment Setup<a class="headerlink" href="#verifying-path-and-environment-setup" title="Permalink to this headline">¶</a></h3>
<p>You should also make sure the Gaussian™ 16 <code class="docutils literal notranslate"><span class="pre">g16</span></code> executable can be run from a command line.
This requires verifying that the <code class="docutils literal notranslate"><span class="pre">g16</span></code> executable is reachable via the system environment path, and appropriate
exports, such as <code class="docutils literal notranslate"><span class="pre">GAUSS_EXEDIR</span></code>, have been configured as per
<a class="reference external" href="http://gaussian.com/techsupport/#install]">Gaussian installation instructions</a>.</p>
</div>
<div class="section" id="input-file-example">
<h3>Input File Example<a class="headerlink" href="#input-file-example" title="Permalink to this headline">¶</a></h3>
<p>To use Gaussian™ 16 to configure a molecule on which to do a chemistry experiment with Aqua Chemistry,
set the <code class="docutils literal notranslate"><span class="pre">name</span></code> field in the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section of the <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> to <code class="docutils literal notranslate"><span class="pre">GAUSSIAN</span></code> and
then create a <code class="docutils literal notranslate"><span class="pre">gaussian</span></code> section in the input file as per the example below,
which shows the configuration of a molecule of
hydrogen, <span class="math notranslate nohighlight">\(H_2\)</span>.  Here, the molecule, basis set and other options are specified according
to the Gaussian™ 16 control file, so the syntax specified by Gaussian™ 16 should be followed:</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">gaussian</span>
   <span class="c1"># rhf/sto-3g scf(conventional)</span>

   <span class="n">h2</span> <span class="n">molecule</span>

   <span class="mi">0</span> <span class="mi">1</span>
   <span class="n">H</span>   <span class="mf">0.0</span>  <span class="mf">0.0</span>    <span class="mf">0.0</span>
   <span class="n">H</span>   <span class="mf">0.0</span>  <span class="mf">0.0</span>    <span class="mf">0.74</span>
<span class="o">&amp;</span><span class="n">end</span>
</pre></div>
</div>
<p>Experienced chemists who already have existing Gaussian™ 16 control files can simply paste the contents of those files
into the <code class="docutils literal notranslate"><span class="pre">gaussian</span></code> section of the input file.  This configuration can also be easily achieved using the
Aqua Chemistry <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>.</p>
</div>
</div>
<div class="section" id="psi4">
<span id="id3"></span><h2>PSI4<a class="headerlink" href="#psi4" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.psicode.org/">PSI4</a> is an open-source program for computational chemistry.
In order for Aqua Chemistry to interface PSI4, accept PSI4 input files and execute PSI4 to extract
the electronic structure information necessary for the computation of the input to the quantum algorithm,
PSI4 must be <a class="reference external" href="http://www.psicode.org/downloads.html">installed</a> and discoverable on the system where
Aqua Chemistry is also installed.
Therefore, once PSI4 has been installed, the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> executable must be reachable via the system environment path.
For example, on macOS, this can be achieved by adding the following section to the <code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> file in the
user’s home directory:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># PSI4</span>
<span class="n">alias</span> <span class="n">enable_psi4</span><span class="o">=</span><span class="s1">&#39;export PATH=/Users/username/psi4conda/bin:$PATH&#39;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">username</span></code> should be replaced with the user’s account name.
In order for Aqua Chemistry to discover PSI4 at run time, it is then necessary to execute the <code class="docutils literal notranslate"><span class="pre">enable_psi4</span></code> command
before launching Aqua Chemistry.</p>
<p>To use PSI4 to configure a molecule on which to do a chemistry experiment with Aqua Chemistry,
set the <code class="docutils literal notranslate"><span class="pre">name</span></code> field in the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section of the <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> to <code class="docutils literal notranslate"><span class="pre">PSI4</span></code> and
then create a <code class="docutils literal notranslate"><span class="pre">psi4</span></code> section in the input file as per the example below, which shows the configuration of a molecule of
hydrogen, <span class="math notranslate nohighlight">\(H_2\)</span>.  Here, the molecule, basis set and other options are specified according
to the PSI4 control file, so the syntax specified by PSI4 should be followed:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">psi4</span>
   <span class="n">molecule</span> <span class="n">h2</span> <span class="p">{</span>
      <span class="mi">0</span> <span class="mi">1</span>
      <span class="n">H</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>
      <span class="n">H</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">0.74</span>
   <span class="p">}</span>

   <span class="nb">set</span> <span class="p">{</span>
      <span class="n">basis</span> <span class="n">sto</span><span class="o">-</span><span class="mi">3</span><span class="n">g</span>
      <span class="n">scf_type</span> <span class="n">pk</span>
   <span class="p">}</span>
<span class="o">&amp;</span><span class="n">end</span>
</pre></div>
</div>
<p>Experienced chemists who already have existing PSI4 control files can simply paste the contents of those files
into the <code class="docutils literal notranslate"><span class="pre">psi4</span></code> section of the input file.  This configuration can also be easily achieved using the
Aqua Chemistry <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>.</p>
</div>
<div class="section" id="pyscf">
<span id="id4"></span><h2>PySCF<a class="headerlink" href="#pyscf" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/sunqm/pyscf">PySCF</a> is an open-source library for computational chemistry.
In order for Aqua Chemistry to interface PySCF, accept PySCF input files and execute PySCF to extract
the electronic structure information necessary for the computation of the input to the quantum algorithm,
PySCF must be installed.  According to the <a class="reference external" href="http://sunqm.github.io/pyscf/install.html">installation instructions</a>,
the preferred installation method for PySCF is via the pip package management system.  Doing so while in the Python
virtual environment where Aqua Chemistry is also installed will automatically make PySCF dynamically discoverable
by Aqua Chemistry at run time.</p>
<p>To use PySCF to configure a molecule on which to do a chemistry experiment with Aqua Chemistry,
set the <code class="docutils literal notranslate"><span class="pre">name</span></code> field in the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section of the <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> to <code class="docutils literal notranslate"><span class="pre">PYSCF</span></code> and
then create a <code class="docutils literal notranslate"><span class="pre">pyscf</span></code> section in the input file as per the example below, which shows the configuration of a molecule of
hydrogen, <span class="math notranslate nohighlight">\(H_2\)</span>.  Here, the molecule, basis set and other options are specified as key/value pairs, according
to the syntax expected by PySCF.  In PySCF, these arguments can be passed to the <code class="docutils literal notranslate"><span class="pre">pyscf.gto.Mole</span></code> class</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">pyscf</span>
   <span class="n">atom</span><span class="o">=</span><span class="n">H</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span><span class="p">;</span> <span class="n">H</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span> <span class="mf">0.74</span>
   <span class="n">unit</span><span class="o">=</span><span class="n">Angstrom</span>
   <span class="n">charge</span><span class="o">=</span><span class="mi">0</span>
   <span class="n">spin</span><span class="o">=</span><span class="mi">0</span>
   <span class="n">basis</span><span class="o">=</span><span class="n">sto3g</span>
<span class="o">&amp;</span><span class="n">end</span>
</pre></div>
</div>
<p>Experienced chemists who already have existing PySCF control files can simply paste the contents of those files
into the <code class="docutils literal notranslate"><span class="pre">pyscf</span></code> section of the input file.  This configuration can also be easily achieved using the
Aqua Chemistry <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>.</p>
</div>
<div class="section" id="pyquante">
<span id="id5"></span><h2>PyQuante<a class="headerlink" href="#pyquante" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/rpmuller/pyquante2/">PyQuante</a> is an open-source library for computational chemistry.
Aqua Chemistry specifically requires PyQuante V2, also known as PyQuante2.
In order for Aqua Chemistry to interface PyQuante, accept PyQuante input files and execute PyQuante to extract
the electronic structure information necessary for the computation of the input to the quantum algorithm,
PyQuante2 must be installed and discoverable on the system where
Aqua Chemistry is also installed.  Installing PyQuante2 according to the
<a class="reference external" href="https://github.com/rpmuller/pyquante2/blob/master/README.md">installation instructions</a> while
in the Python virtual environment where Aqua Chemistry has also been installed will automatically
make PyQuante2 dynamically discovered by Aqua Chemistry at run time.</p>
<p>The Aqua Chemistry PyQuante2 driver wrapper contains two methods, in <code class="docutils literal notranslate"><span class="pre">transform.py</span></code>, taken from from
<a class="reference external" href="http://pyquante.sourceforge.net/">Pyquante V1</a>, which is <a class="reference external" href="http://pyquante.sourceforge.net/#license">licensed</a>
under a <a class="reference external" href="https://opensource.org/licenses/BSD-3-Clause">modified BSD license</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Like all the other drivers currently interfaced by Aqua Chemistry,
PyQuante2 provides enough intermediate data for Aqua Chemistry to compute a molecule’s ground
state molecular energy.  However, unlike the other drivers, the data computed by PyQuante is not sufficient for
Aqua Chemistry to compute a molecule’s dipole moment.  Therefore, PyQuante is currently
the only driver interfaced by Aqua Chemistry that does not allow for the computation of a molecule’s
dipole moment.</p>
</div>
<p>To use PyQuante to configure a molecule on which to do a chemistry experiment with Aqua Chemistry,
set the <code class="docutils literal notranslate"><span class="pre">name</span></code> field in the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section of the <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> to <code class="docutils literal notranslate"><span class="pre">PYQUANTE</span></code> and
then create a <code class="docutils literal notranslate"><span class="pre">pyquante</span></code> section in the input file as per the example below, which shows the configuration of a molecule of
hydrogen, <span class="math notranslate nohighlight">\(H_2\)</span>.  Here, the molecule, basis set and other options are specified according
to the PyQuante control file, so the syntax specified by PyQuante should be followed.
Specifically, a molecule is configured as a list of atoms.  Each atom’s chemical symbol is followed by the atom’s <span class="math notranslate nohighlight">\(x, y, z\)</span>
geometrical coordinates separated by a blank space.  Atom configurations are separated by semicolons.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">pyquante</span>
   <span class="n">atoms</span><span class="o">=</span><span class="n">H</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span><span class="p">;</span> <span class="n">H</span> <span class="o">.</span><span class="mi">0</span> <span class="o">.</span><span class="mi">0</span> <span class="mf">0.74</span>
   <span class="n">units</span><span class="o">=</span><span class="n">Angstrom</span>
   <span class="n">charge</span><span class="o">=</span><span class="mi">0</span>
   <span class="n">multiplicity</span><span class="o">=</span><span class="mi">1</span>
   <span class="n">basis</span><span class="o">=</span><span class="n">sto3g</span>
<span class="o">&amp;</span><span class="n">end</span>
</pre></div>
</div>
<p>Experienced chemists who already have existing PyQuante control files can simply paste the contents of those files
into the <code class="docutils literal notranslate"><span class="pre">pyquante</span></code> section of the input file.  This configuration can also be easily achieved using the
Aqua Chemistry <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>.</p>
</div>
<div class="section" id="hdf5">
<span id="id6"></span><h2>HDF5<a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h2>
<p>Aqua Chemistry uses a molecular input file written on top of one of the classical computational software drivers
that it interfaces.  Aqua Chemistry executes a driver classically,
only to the extent necessary to compute some intermediate data which, combined with the molecular configuration,
can later be used to form the input to one of the
Aqua <a class="reference internal" href="algorithms.html#quantum-algorithms"><span class="std std-ref">Quantum Algorithms</span></a>.</p>
<p>As mentioned above, the intermediate data extracted from the classical computational software consists of the following:</p>
<ol class="arabic simple">
<li>One- and two-body integrals in Molecular Orbital (MO) basis</li>
<li>Dipole integrals</li>
<li>Molecular orbital coefficients</li>
<li>Hartree-Fock energy</li>
<li>Nuclear repulsion energy</li>
</ol>
<p>Once extracted, the structure of this intermediate data is independent of the classical driver
that was used to compute it.
However, the level of accuracy of such data does depend on the computational chemistry software;
more elaborate software packages are more likely to produce more accurate data.</p>
<p>Aqua Chemistry offers the option to serialize this data in a binary format known as
<a class="reference external" href="https://support.hdfgroup.org/HDF5/">Hierarchical Data Format 5 (HDF5)</a>.
This is done for future reuse and exchange of input data among researchers who may not have a particular computational
chemistry driver installed on their computers, or may have a different version of that driver.
HDF5 is configured as a prebuilt driver in Aqua because it allows for chemistry input to be passed into the
computation.  In fact, HDF5 is the only driver that does not require any installation other
the installation of Aqua Chemistry itself.</p>
<div class="section" id="generation-of-an-hdf5-input-file">
<h3>Generation of an HDF5 Input File<a class="headerlink" href="#generation-of-an-hdf5-input-file" title="Permalink to this headline">¶</a></h3>
<p>The most intuitive way to generate an HDF5 input file is by using the Aqua Chemistry
<a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-gui"><span class="std std-ref">GUI</span></a>.
Through the GUI, you can load an existing <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> from the <code class="docutils literal notranslate"><span class="pre">chemistry</span></code> folder
of the <a class="reference external" href="https://github.com/Qiskit/Aqua-tutorials">Aqua Tutorials GitHub repository</a>
(which must have been installed on your file system via a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> command)
by selecting <strong>Open…</strong> from the <strong>File</strong> menu.  Alternatively, you can create and then potentially customize
a brand new <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> by choosing <strong>New</strong> from the <strong>File</strong> menu.
Once you have configured the chemistry experiment in one of the existing classical drivers
(<a class="reference internal" href="#gaussian-16"><span class="std std-ref">Gaussian™ 16</span></a>, <a class="reference internal" href="#psi4"><span class="std std-ref">PSI4</span></a>, <a class="reference internal" href="#pyscf"><span class="std std-ref">PySCF</span></a> or <a class="reference internal" href="#pyquante"><span class="std std-ref">PyQuante</span></a>),
you can specify the name of the file where you want the HDF5 file to be serialized.  This can be done
by assigning a value to the <code class="docutils literal notranslate"><span class="pre">hdf5_output</span></code> field of the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section.
Upon completing its execution, Aqua Chemistry displays the following message:</p>
<div class="code sh highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HDF5</span> <span class="n">file</span> <span class="n">saved</span> <span class="s1">&#39;/Users/username/Documents/temp/molecule.hdf5&#39;</span>
</pre></div>
</div>
<p>assuming that <code class="docutils literal notranslate"><span class="pre">molecule.hdf5</span></code> and <code class="docutils literal notranslate"><span class="pre">/Users/username/Documents/temp</span></code> are the file name
and directory path you chose, respectively.</p>
<p>Using the GUI is the most intuitive option to generate the HDF5 file corresponding to a given experiment.  The
same result can be obtained by assigning a value to the <code class="docutils literal notranslate"><span class="pre">hdf5_output</span></code> field of the <code class="docutils literal notranslate"><span class="pre">driver</span></code> section of
an <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a> and then invoking the Aqua Chemistry
<a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-command-line"><span class="std std-ref">Command Line</span></a> tool with the name of that file as the input parameter.</p>
<p>If you later want the HDF5 file to be deserialized and its contents used as the input for a chemistry experiment,
you can select <code class="docutils literal notranslate"><span class="pre">HDF5</span></code> as the driver in an <a class="reference internal" href="aqua_chemistry_execution.html#aqua-chemistry-input-file"><span class="std std-ref">Input File</span></a>.  Doing so will
require the <code class="docutils literal notranslate"><span class="pre">hdf5</span></code> section in the input file to be configured by assigning a valid fully qualified
file name to the <code class="docutils literal notranslate"><span class="pre">hdf5_input</span></code> field, as shown:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">hdf5</span>
   <span class="n">hdf5_input</span><span class="o">=</span><span class="n">molecule</span><span class="o">.</span><span class="n">hdf5</span>
<span class="o">&amp;</span><span class="n">end</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aqua_chemistry_translators.html" title="Translators"
             >next</a> |</li>
        <li class="right" >
          <a href="aqua_chemistry_installation.html" title="Installation and Setup"
             >previous</a> |</li>
<li id="toc-toggle">
<a class="btn btn-primary" role="button" data-toggle="collapse"
   href=".sphinxsidebar" aria-expanded="false" aria-controls="collapseExample">
  TOC</a> |
</li>

        <li class="nav-item nav-item-0"><a href="index.html">Qiskit Aqua 0.2.0 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="aqua.html" >Qiskit Aqua</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="aqua_chemistry.html" >Aqua Chemistry</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018 IBM.
      Last updated on 2018/08/08.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>